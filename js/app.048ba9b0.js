(function(e){function t(t){for(var n,i,o=t[0],c=t[1],u=t[2],l=0,p=[];l<o.length;l++)i=o[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);h&&h(t);while(p.length)p.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},s=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/vue-typescript-weather/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var h=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"1b3e":function(e,t,r){},"40a3":function(e,t,r){},5244:function(e,t,r){"use strict";var n=r("40a3"),a=r.n(n);a.a},cd49:function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},s=[],i=r("2877"),o={},c=Object(i["a"])(o,a,s,!1,null,null,null),u=c.exports,h=r("8c4f"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("div",{staticClass:"search"},[e._m(0),r("SearchBar",{attrs:{searchCondition:e.searchCondition},on:{"update-searchCondition":function(t){e.searchCondition=t},"search-weather":e.searchWeather}}),e.weatherInfo?r("div",{staticClass:"weatherInfo"},[r("div",{staticClass:"city"},[r("span",{staticClass:"title"},[e._v("城市：")]),r("span",[e._v(e._s(e.weatherInfo.name))])]),r("div",{staticClass:"weatherDescription"},[r("span",{staticClass:"title"},[e._v("天氣概況：")]),r("span",[e._v(e._s(e.weatherDescription))])]),r("div",{staticClass:"temperature__average"},[r("span",{staticClass:"title"},[e._v("平均氣溫：")]),r("span",[e._v(e._s(e.weatherInfo.main.temp))]),r("span",{staticClass:"unit"},[e._v("°C")])]),r("div",{staticClass:"temperature__max"},[r("span",{staticClass:"title"},[e._v("最高溫：")]),r("span",[e._v(e._s(e.weatherInfo.main.temp_max))]),r("span",{staticClass:"unit"},[e._v("°C")])]),r("div",{staticClass:"temperature__min"},[r("span",{staticClass:"title"},[e._v("最低溫：")]),r("span",[e._v(e._s(e.weatherInfo.main.temp_min))]),r("span",{staticClass:"unit"},[e._v("°C")])]),r("div",{staticClass:"humidity"},[r("span",{staticClass:"title"},[e._v("溼度：")]),r("span",[e._v(e._s(e.weatherInfo.main.humidity))]),r("span",{staticClass:"unit"},[e._v("%")])])]):e._e(),e.notResult?r("div",{staticClass:"notResult"},[r("h3",[e._v("沒有此城市，請重新搜尋")])]):e._e()],1),r("div",{staticClass:"histories"},[r("h2",[e._v("歷史記錄")]),e.historiesSearch?r("ol",{staticClass:"historiesList"},e._l(e.historiesSearch,function(t,n){return r("li",{key:n,staticClass:"historyItem",on:{click:function(r){return e.searchWithHistory(t)}}},[r("span",[e._v(e._s(t))])])}),0):e._e()])])},p=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"search__title"},[r("h2",[e._v("搜尋天氣")]),r("span",{staticClass:"notice"},[e._v("(請輸入城市英文名稱)")])])}],f=(r("ac6a"),r("456d"),r("c5f6"),r("96cf"),r("3b8d")),d=r("d225"),v=r("b0b4"),b=r("308d"),g=r("6bb5"),y=r("4e2b"),m=r("9ab4"),_=r("60a3"),w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"searchBar"},[r("input",{attrs:{type:"text",name:"city",id:"city",placeholder:"tainan"},domProps:{value:e.searchCondition},on:{input:e.updateSarchCondition}}),r("button",{on:{click:e.searchWeather}},[e._v("Search")])])},C=[],O=function(e){function t(){return Object(d["a"])(this,t),Object(b["a"])(this,Object(g["a"])(t).apply(this,arguments))}return Object(y["a"])(t,e),Object(v["a"])(t,[{key:"updateSarchCondition",value:function(e){return e.target.value}},{key:"searchWeather",value:function(){}}]),t}(_["d"]);Object(m["a"])([Object(_["c"])()],O.prototype,"searchCondition",void 0),Object(m["a"])([Object(_["b"])("update-searchCondition")],O.prototype,"updateSarchCondition",null),Object(m["a"])([Object(_["b"])("search-weather")],O.prototype,"searchWeather",null),O=Object(m["a"])([_["a"]],O);var j=O,S=j,k=(r("5244"),Object(i["a"])(S,w,C,!1,null,"4dbaa09c",null)),I=k.exports,x=function(e){function t(){var e;return Object(d["a"])(this,t),e=Object(b["a"])(this,Object(g["a"])(t).apply(this,arguments)),e.searchCondition="",e.notResult=!1,e}return Object(y["a"])(t,e),Object(v["a"])(t,[{key:"searchWeather",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.checkIsNumber(this.searchCondition)){e.next=5;break}return alert("錯誤，請重新搜尋"),this.searchCondition="",e.abrupt("return");case 5:return this.notResult=!1,e.next=8,this.$store.dispatch("getWeather",this.searchCondition);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),this.notResult=!0;case 13:case"end":return e.stop()}},e,this,[[0,10]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"searchWithHistory",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.checkIsNumber(t)){e.next=4;break}return alert("錯誤，請重新搜尋"),e.abrupt("return");case 4:return this.notResult=!1,e.next=7,this.$store.dispatch("getWeather",t);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),this.notResult=!0;case 12:case"end":return e.stop()}},e,this,[[0,9]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"checkIsNumber",value:function(e){return!isNaN(Number(e))}},{key:"weatherInfo",get:function(){return!!Object.keys(this.$store.getters.getWeatherInfo).length&&this.$store.getters.getWeatherInfo}},{key:"weatherDescription",get:function(){return this.$store.getters.getWeatherInfo.weather.length?this.$store.getters.getWeatherInfo.weather[0].description:"錯誤"}},{key:"historiesSearch",get:function(){return this.$store.getters.getHistorySearch}}]),t}(_["d"]);x=Object(m["a"])([Object(_["a"])({components:{SearchBar:I}})],x);var W=x,R=W,$=(r("d552"),Object(i["a"])(R,l,p,!1,null,"f4dbfb4c",null)),N=$.exports;n["a"].use(h["a"]);var P=new h["a"]({mode:"history",base:"/vue-typescript-weather/",routes:[{path:"/",name:"home",component:N}]}),H=r("2f62"),E=r("bc3a"),q=r.n(E),B={weather_api_key:"31912edb2348d97e63407526c8110071"},J={data:B},M="https://api.openweathermap.org/data/2.5/weather";function A(e){var t={q:e.q,units:"metric",appid:J.data.weather_api_key};return q.a.get(M,{params:t})}var D={getWeather:A};n["a"].use(H["a"]);var T=new H["a"].Store({state:{weatherInfo:{},historySearch:localStorage.getItem("historySearch")?JSON.parse(localStorage.getItem("historySearch")):[]},getters:{getWeatherInfo:function(e){return e.weatherInfo},getHistorySearch:function(e){return!!e.historySearch.length&&e.historySearch.slice().reverse()}},mutations:{updateHistorySearch:function(e,t){e.historySearch.push(t),e.historySearch.length>10&&e.historySearch.shift(),localStorage.setItem("historySearch",JSON.stringify(e.historySearch))},getWeather:function(e,t){e.weatherInfo=t},resetWeatherInfo:function(e){e.weatherInfo={}}},actions:{getWeather:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n("resetWeatherInfo"),n("updateHistorySearch",r),e.next=5,D.getWeather({q:r});case 5:a=e.sent,s=a.data,n("getWeather",s);case 8:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}()}}),F=r("9483");Object(F["a"])("".concat("/vue-typescript-weather/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),n["a"].config.productionTip=!1,new n["a"]({router:P,store:T,render:function(e){return e(u)}}).$mount("#app")},d552:function(e,t,r){"use strict";var n=r("1b3e"),a=r.n(n);a.a}});
//# sourceMappingURL=app.048ba9b0.js.map